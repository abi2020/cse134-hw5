<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UCSD Weather Widget</title>
</head>
<body>
    <header>
        <nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li><a href="rating.html">Star Rating</a></li>
				<li><a href="weather.html">Weather</a></li>
			</ul>
		</nav>
    </header>


    <div id="weather-widget">
        <h1>Current Weather</h2>
        <p id="temperature"></p>
        <p id="conditions"></p>
        <p id="humidity"></p>
        <p id ="wind-speed"></p>
        <img id="weather-icon" alt="Weather Icon">
      </div>

<noscript>
    <h2>Current Weather Conditions Unavailable</h1>
</noscript>


<script>
document.addEventListener('DOMContentLoaded', function () {
    const apiUrl = 'https://api.weather.gov/gridpoints/SGX/54,19/forecast';

  fetch(apiUrl)
    .then(response => response.json())
    .then(data => {
      const temperature = data.properties.periods[0].temperature;
      const conditions = data.properties.periods[0].shortForecast;
      const humidity = data.properties.periods[0].relativeHumidity.value;
      const icon = data.properties.periods[0].icon;
      const windSpeed = data.properties.periods[0].windSpeed;

      // Display temperature and conditions
      document.getElementById('temperature').innerText = `Temperature: ${temperature} Â°F`;
      document.getElementById('conditions').innerText = `Conditions: ${conditions}`;
      document.getElementById('humidity').innerText = `Humidity: ${humidity}%`;
      document.getElementById('wind-speed').innerText = `Wind Speed: ${windSpeed}`;
    // document.getElementById('conditions').innerText = icon;  

      // Display weather icon
    //   const iconUrl = `https://www.weather.gov//icons/wtf/${icon}.png`;
    //   document.getElementById('weather-icon').src = iconUrl;
    document.getElementById('weather-icon').src = icon;
    })
    .catch(error => console.error('Error fetching weather data:', error));
});
</script>

</body>
</html>
